<!--
title:   【aws】route53とは何か？使い方や機能を解説
tags:    AWS,route53
id:      485b382fcc0c03937ca4
private: false
-->


## aws route53とは？主な機能

## dnsサービスの基本と仕組みを解説

## aws route53でドメインの登録と管理をする方法

## aws route53の高可用性構成とは？

## aws route53のdnsレコードの種類と使い方

## aws route53のアクセスログの取得方法と解析


こんにちは。今回は、awsについて初心者エンジニアに向けて、route53というサービスについて解説していきます。route53は、amazon web services（aws）が提供しているdns（domain name system）サービスです。

### aws route53とは？主な機能

aws route53は、ドメイン名の登録、ドメイン名とipアドレスの関連付け、ドメイン名の高可用性化など、dnsに関連する機能を提供します。具体的には以下のような主な機能があります。

1. ドメイン名の登録：route53を使用することで、さまざまなドメイン名を簡単に登録することができます。ドメイン名の登録には、awsマネジメントコンソールやaws cli（command line interface）などを使用します。

2. ドメイン名とipアドレスの関連付け：route53では、登録したドメイン名とawsリソース（ec2 インスタンス、s3 バケットなど）のipアドレスを関連付けることができます。これにより、人間が覚えやすいドメイン名でアクセスしても、正しいipアドレスにルーティングされるようになります。

3. ドメイン名の高可用性化：route53は、グローバルロードバランサとしても機能します。複数のawsリージョンにまたがるインフラストラクチャを利用することで、ドメイン名に対するリクエストに対して最適なリージョンを選択し、サーバへのトラフィックを分散することができます。これにより、高可用性なアプリケーションを構築することができます。

### dnsサービスの基本と仕組みを解説

dns（domain name system）は、インターネット上のドメイン名をipアドレスに関連付けるための仕組みです。

#### 1. ドメイン名の階層構造

ドメイン名は階層構造を持っており、最上位ドメイン（tld）から順に下位ドメインを示します。例えば、www.example.comというドメイン名がある場合、comが最上位ドメイン、exampleが第2レベルドメイン、wwwが第3レベルドメインとなります。

#### 2. ドメイン名とipアドレスの関連付け

dnsは、ドメイン名とipアドレスの間の関連付けを行います。この関連付けはdnsレコードと呼ばれる情報によって管理されます。主なdnsレコードの種類には、aレコード（ドメイン名からipv4アドレスへの関連付け）、aaaaレコード（ドメイン名からipv6アドレスへの関連付け）、cnameレコード（ドメイン名から別のドメイン名への関連付け）などがあります。

#### 3. ドメイン名の解決

ドメイン名の解決は、クライアントからdnsサーバへの問い合わせと、dnsサーバからドメイン名とipアドレスの関連付け情報を取得するプロセスです。クライアントは自身のコンピュータまたはネットワーク上のdnsキャッシュを最初に参照し、キャッシュ上に関連付け情報が存在しない場合は、上位のdnsサーバに問い合わせます。この問い合わせは、ドメイン名の階層構造に基づいて行われ、最終的にドメイン名とipアドレスの関連付け情報を取得し、クライアントへ返します。

### aws route53でドメインの登録と管理をする方法

aws route53を使用してドメインの登録と管理を行う手順を解説します。

#### 1. ドメイン名の登録

route53を使用してドメイン名を登録する手順は次のとおりです。

1. awsマネジメントコンソールにサインインします。
2. ドメイン登録画面に移動し、登録したいドメイン名を入力します。
3. ドメイン名の登録情報（オーナー情報、連絡先情報など）を入力します。
4. 支払方法を設定します。
5. ドメインの登録が完了したら、dnsレコードの設定を行います。

#### 2. dnsレコードの設定

ドメインを登録した後、dnsレコードの設定を行うことで、ドメイン名とipアドレスの関連付けを行うことができます。

1. awsマネジメントコンソールにサインインします。
2. route53のdns管理画面に移動します。
3. ドメイン名一覧から設定したいドメインを選択します。
4. dnsレコードの作成または編集を行います。以下のレコードタイプが利用できます。
   - aレコード
   - aaaaレコード
   - cnameレコード
   - mxレコード
   - txtレコード
   - など

### aws route53の高可用性構成とは？

aws route53では、高可用性構成を実現するための機能が提供されています。具体的には以下のような機能があります。

1. フェイルオーバー：複数のリージョンにまたがるインフラストラクチャを利用することで、特定のリージョンに障害が発生した場合には別のリージョンにトラフィックを転送することができます。

2. レイテンシーベースのルーティング：ユーザーからのリクエストへの応答時間を計測し、最も応答時間が短いリージョンにトラフィックを転送することができます。

3. ヘルスチェック：登録されたawsリソースのヘルスチェックを行い、正常でない場合はトラフィックの転送を停止することができます。これにより、サーバのダウンタイムを最小限に抑えることができます。

### aws route53のdnsレコードの種類と使い方

aws route53では、さまざまなdnsレコードを使用することができます。主なdnsレコードの種類と使い方を解説します。

1. aレコード：ドメイン名からipv4アドレスへの関連付けを行うために使用します。例えば、example.comというドメイン名を192.0.2.1というipv4アドレスに関連付けるために、aレコードを設定します。

2. aaaaレコード：ドメイン名からipv6アドレスへの関連付けを行うために使用します。ipv6をサポートしている場合に使用します。

3. cnameレコード：ドメイン名から別のドメイン名への関連付けを行うために使用します。例えば、www.example.comというドメイン名をexample.comに関連付けるために、cnameレコードを設定します。

4. mxレコード：メールサーバの情報を設定するために使用します。メールサーバへの送信先情報を指定することができます。

5. txtレコード：テキスト情報を格納するために使用します。主にdkim（domainkeys identified mail）やspf（sender policy framework）の設定に使用されます。

### aws route53のアクセスログの取得方法と解析

aws route53では、アクセスログを取得して分析することができます。アクセスログは、dnsクエリの詳細な情報を提供し、トラブルシューティングやセキュリティの分析に役立ちます。

アクセスログを取得するためには、次の手順を実行する必要があります。

1. アクセスログの有効化：awsマネジメントコンソールから、設定したいドメイン名のroute53コンソールに移動し、アクセスログの有効化を行います。

2. バケットの作成：アクセスログを保存するためのs3バケットを作成します。

3. アクセスログの設定：作成したs3バケットにアクセスログを保存するようにroute53の設定を行います。

アクセスログを解析するためには、取得したログファイルを適切なツールを使用して解析する必要があります。代表的なツールとしては、amazon athenaやamazon cloudwatch logs insightsなどがあります。

以上が、aws route53の概要と基本的な使い方についての解説でした。初心者エンジニアの方でも、route53を使ってドメインの登録や管理、高可用性構成の構築などを行うことができるようになるでしょう。より詳細な情報を知りたい場合は、公式ドキュメントなどのリファレンスを参考にすると良いでしょう。

参考記事：
- [aws公式ドキュメント - amazon route 53](https://docs.aws.amazon.com/ja_jp/route53/latest/developerguide/welcome.html)
- [awsome cloud dns - route53を徹底理解する](https://qiita.com/katzueno/items/cc807402cf917910f6b5)



## AWS Route53関連のまとめ
https://hack-note.com/summary/aws-route53-summary/



## オンラインスクールを講師として活用する！
https://hack-note.com/programming-schools/



## 0円でプログラミングを学ぶという選択
- [techacademyの無料体験](//af.moshimo.com/af/c/click?a_id=2612475&amp;p_id=1555&amp;pc_id=2816&amp;pl_id=22706&amp;url=https%3a%2f%2ftechacademy.jp%2fhtmlcss-trial%3futm_source%3dmoshimo%26utm_medium%3daffiliate%26utm_campaign%3dtextad)
- [オンラインスクール dmm webcamp pro](//af.moshimo.com/af/c/click?a_id=2612482&amp;p_id=1363&amp;pc_id=2297&amp;pl_id=39999&amp;guid=on)
